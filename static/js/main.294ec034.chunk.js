(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){e.exports=a(34)},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var o=a(1),n=a.n(o),i=a(17),r=a.n(i),l=a(7),s=a(8),d=a(10),c=a(9),m=a(11),g=(a(27),a(0)),u=a.n(g),p=(a(28),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(c.a)(t).call(this,e))).go=void 0,a.myPalette=void 0,a.makePort=function(e,t,o,n){return a.go(u.a.Shape,"Circle",{fill:null,stroke:null,desiredSize:new u.a.Size(7,7),alignment:t,alignmentFocus:t,portId:e,fromSpot:t,toSpot:t,fromLinkable:o,toLinkable:n,cursor:"pointer"})},a.showSmallPorts=function(e,t){e.ports.each(function(e){""!==e.portId&&(e.fill=t?"rgba(0,0,0,.3)":null)})},a.initializePallete=function(){a.myPalette=a.go(u.a.Palette,"myPaletteDiv",{maxSelectionCount:1,nodeTemplateMap:a.state.myDiagram.nodeTemplateMap,linkTemplate:a.go(u.a.Link,{locationSpot:u.a.Spot.Center,selectionAdornmentTemplate:a.go(u.a.Adornment,"Link",{locationSpot:u.a.Spot.Center},a.go(u.a.Shape,{isPanelMain:!0,fill:null,stroke:"deepskyblue",strokeWidth:0}),a.go(u.a.Shape,{toArrow:"Standard",stroke:null}))},{routing:u.a.Link.AvoidsNodes,curve:u.a.Link.JumpOver,corner:5,toShortLength:4},new u.a.Binding("points"),a.go(u.a.Shape,{isPanelMain:!0,strokeWidth:2}),a.go(u.a.Shape,{toArrow:"Standard",stroke:null})),model:new u.a.GraphLinksModel([{text:"Start",figure:"Circle",fill:"#00AD5F"},{text:"Step"},{text:"DB",figure:"Database",fill:"lightgray"},{text:"???",figure:"Diamond",fill:"lightskyblue"},{text:"End",figure:"Circle",fill:"#CE0620"},{text:"Comment",figure:"RoundedRectangle",fill:"lightyellow"}],[{points:(new u.a.List).addAll([new u.a.Point(0,0),new u.a.Point(30,0),new u.a.Point(30,40),new u.a.Point(60,40)])}])})},a.save=function(){a.state.myDiagram.makeImage({scale:1.5}),a.saveDiagramProperties();var e=a.state.myDiagram;localStorage.setItem("savedJSON",JSON.stringify(e.model.toJson())),e.isModified=!1,a.setState({myDiagram:e})},a.undo=function(){a.state.myDiagram.commandHandler.undo()},a.redo=function(){a.state.myDiagram.commandHandler.redo()},a.clear=function(){a.state.myDiagram.clear()},a.load=function(){var e=JSON.parse(localStorage.getItem("savedJSON")),t=a.state.myDiagram;t.model=u.a.Model.fromJson(e),a.setState({myDiagram:t}),a.loadDiagramProperties()},a.loadDiagramProperties=function(){var e=a.state.myDiagram.model.modelData.position;e&&(a.state.myDiagram.initialPosition=u.a.Point.parse(e))},a.go=u.a.GraphObject.make,a.state={myDiagram:null},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.go(u.a.Diagram,"myDiagramDiv",{grid:this.go(u.a.Panel,"Grid",this.go(u.a.Shape,"LineH",{stroke:"lightgray",strokeWidth:.5}),this.go(u.a.Shape,"LineH",{stroke:"gray",strokeWidth:.5,interval:10}),this.go(u.a.Shape,"LineV",{stroke:"lightgray",strokeWidth:.5}),this.go(u.a.Shape,"LineV",{stroke:"gray",strokeWidth:.5,interval:10})),"undoManager.isEnabled":!0,"relinkingTool.fromHandleArchetype":this.go(u.a.Shape,"Diamond",{segmentIndex:0,cursor:"pointer",desiredSize:new u.a.Size(8,8),fill:"tomato",stroke:"darkred"}),"relinkingTool.toHandleArchetype":this.go(u.a.Shape,"Diamond",{segmentIndex:-1,cursor:"pointer",desiredSize:new u.a.Size(8,8),fill:"darkred",stroke:"tomato"}),"linkReshapingTool.handleArchetype":this.go(u.a.Shape,"Diamond",{desiredSize:new u.a.Size(7,7),fill:"lightblue",stroke:"deepskyblue"}),"rotatingTool.handleAngle":270,"rotatingTool.handleDistance":30,"rotatingTool.snapAngleMultiple":15,"rotatingTool.snapAngleEpsilon":15});t.addDiagramListener("Modified",function(e){var a=document.getElementById("SaveButton");a&&(a.disabled=!t.isModified);var o=document.title.indexOf("*");t.isModified?o<0&&(document.title+="*"):o>=0&&(document.title=document.title.substr(0,o))});var a=this.go(u.a.Adornment,"Auto",this.go(u.a.Shape,{fill:null,stroke:"deepskyblue",strokeWidth:1.5,strokeDashArray:[4,2]}),this.go(u.a.Placeholder)),o=this.go(u.a.Adornment,"Spot",{locationSpot:u.a.Spot.Right},this.go(u.a.Placeholder),this.go(u.a.Shape,{alignment:u.a.Spot.TopLeft,cursor:"nw-resize",desiredSize:new u.a.Size(6,6),fill:"lightblue",stroke:"deepskyblue"}),this.go(u.a.Shape,{alignment:u.a.Spot.Top,cursor:"n-resize",desiredSize:new u.a.Size(6,6),fill:"lightblue",stroke:"deepskyblue"}),this.go(u.a.Shape,{alignment:u.a.Spot.TopRight,cursor:"ne-resize",desiredSize:new u.a.Size(6,6),fill:"lightblue",stroke:"deepskyblue"}),this.go(u.a.Shape,{alignment:u.a.Spot.Left,cursor:"w-resize",desiredSize:new u.a.Size(6,6),fill:"lightblue",stroke:"deepskyblue"}),this.go(u.a.Shape,{alignment:u.a.Spot.Right,cursor:"e-resize",desiredSize:new u.a.Size(6,6),fill:"lightblue",stroke:"deepskyblue"}),this.go(u.a.Shape,{alignment:u.a.Spot.BottomLeft,cursor:"se-resize",desiredSize:new u.a.Size(6,6),fill:"lightblue",stroke:"deepskyblue"}),this.go(u.a.Shape,{alignment:u.a.Spot.Bottom,cursor:"s-resize",desiredSize:new u.a.Size(6,6),fill:"lightblue",stroke:"deepskyblue"}),this.go(u.a.Shape,{alignment:u.a.Spot.BottomRight,cursor:"sw-resize",desiredSize:new u.a.Size(6,6),fill:"lightblue",stroke:"deepskyblue"})),n=this.go(u.a.Adornment,{locationSpot:u.a.Spot.Center,locationObjectName:"CIRCLE"},this.go(u.a.Shape,"Circle",{name:"CIRCLE",cursor:"pointer",desiredSize:new u.a.Size(7,7),fill:"lightblue",stroke:"deepskyblue"}),this.go(u.a.Shape,{geometryString:"M3.5 7 L3.5 30",isGeometryPositioned:!0,stroke:"deepskyblue",strokeWidth:1.5,strokeDashArray:[4,2]}));t.nodeTemplate=this.go(u.a.Node,"Spot",{locationSpot:u.a.Spot.Center},new u.a.Binding("location","loc",u.a.Point.parse).makeTwoWay(u.a.Point.stringify),{selectable:!0,selectionAdornmentTemplate:a},{resizable:!0,resizeObjectName:"PANEL",resizeAdornmentTemplate:o},{rotatable:!0,rotateAdornmentTemplate:n},new u.a.Binding("angle").makeTwoWay(),this.go(u.a.Panel,"Auto",{name:"PANEL"},new u.a.Binding("desiredSize","size",u.a.Size.parse).makeTwoWay(u.a.Size.stringify),this.go(u.a.Shape,"Rectangle",{portId:"",fromLinkable:!0,toLinkable:!0,cursor:"pointer",fill:"white",strokeWidth:2},new u.a.Binding("figure"),new u.a.Binding("fill")),this.go(u.a.TextBlock,{font:"bold 11pt Helvetica, Arial, sans-serif",margin:8,maxSize:new u.a.Size(160,NaN),wrap:u.a.TextBlock.WrapFit,editable:!0},new u.a.Binding("text").makeTwoWay())),this.makePort("T",u.a.Spot.Top,!1,!0),this.makePort("L",u.a.Spot.Left,!0,!0),this.makePort("R",u.a.Spot.Right,!0,!0),this.makePort("B",u.a.Spot.Bottom,!0,!1),{mouseEnter:function(t,a){e.showSmallPorts(a,!0)},mouseLeave:function(t,a){e.showSmallPorts(a,!1)}});var i=this.go(u.a.Adornment,"Link",this.go(u.a.Shape,{isPanelMain:!0,fill:null,stroke:"deepskyblue",strokeWidth:0}));t.linkTemplate=this.go(u.a.Link,{selectable:!0,selectionAdornmentTemplate:i},{relinkableFrom:!0,relinkableTo:!0,reshapable:!0},{routing:u.a.Link.AvoidsNodes,curve:u.a.Link.JumpOver,corner:5,toShortLength:4},new u.a.Binding("points").makeTwoWay(),this.go(u.a.Shape,{isPanelMain:!0,strokeWidth:2}),this.go(u.a.Shape,{toArrow:"Standard",stroke:null}),this.go(u.a.Panel,"Auto",new u.a.Binding("visible","isSelected").ofObject(),this.go(u.a.Shape,"RoundedRectangle",{fill:"#F8F8F8",stroke:null}),this.go(u.a.TextBlock,{textAlign:"center",font:"10pt helvetica, arial, sans-serif",stroke:"#919191",margin:2,minSize:new u.a.Size(10,NaN),editable:!0},new u.a.Binding("text").makeTwoWay()))),this.setState({myDiagram:t},function(){e.initializePallete()})}},{key:"saveDiagramProperties",value:function(){var e=this.state.myDiagram;e.model.modelData.position=u.a.Point.stringify(this.state.myDiagram.position),this.setState({myDiagram:e})}},{key:"render",value:function(){return n.a.createElement("div",{style:{flex:1,display:"flex",flexFlow:"row"}},n.a.createElement("div",{id:"myPaletteDiv",style:{flex:1,marginRight:"2px",backgroundColor:"whitesmoke",border:"solid 1px black"}}),n.a.createElement("div",{style:{flex:4,display:"flex",flexFlow:"column",border:"solid 4px black"}},n.a.createElement("div",{id:"myDiagramDiv",style:{flex:1,display:"flex",flexFlow:"column",border:"solid 1px black"}}),n.a.createElement("div",null,n.a.createElement("button",{onClick:this.load,style:{width:"100px",margin:"10px",cursor:"pointer"}},"Load"),n.a.createElement("button",{id:"SaveButton",onClick:this.save,style:{width:"100px",margin:"10px",cursor:"pointer"}},"Save"),n.a.createElement("button",{onClick:this.undo,style:{width:"100px",margin:"10px",cursor:"pointer"}},"Undo"),n.a.createElement("button",{onClick:this.redo,style:{width:"100px",margin:"10px",cursor:"pointer"}},"Redo"),n.a.createElement("button",{onClick:this.clear,style:{width:"100px",margin:"10px",cursor:"pointer"}},"Clear"))))}}]),t}(n.a.PureComponent)),h=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},n.a.createElement("h1",{className:"App-title"},"React + GoJS Demo")),n.a.createElement(p,null))}}]),t}(n.a.Component),f=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function k(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}a(29);var y,S=a(21),b=a(6),w=a(3),D=a(2),v=a(19),A=a(20),O=Object(A.actionCreatorFactory)("DIAGRAM"),E=O("INIT"),x=O("UPDATE_NODE_COLOR"),j=O("UPDATE_NODE_TEXT"),z=O("ADD_NODE"),P=O("REMOVE_NODE"),L=O("REMOVE_LINK"),T=O("NODE_SELECTED"),N=O("NODE_DESELECTED"),C=["lightblue","orange","lightgreen","pink","yellow","red","grey","magenta","cyan"],R=function(){return C[Math.floor(Math.random()*C.length)]},B=Object(v.reducerWithInitialState)({model:{nodeDataArray:[{key:"Root",color:"lightblue",label:"Root"}],linkDataArray:[]},selectedNodeKeys:[]}).case(E,function(e,t){return Object(D.a)({},e,{model:t})}).case(x,function(e){var t=e.model.nodeDataArray.map(function(e){return Object(D.a)({},e,{color:R()})});return Object(D.a)({},e,{model:Object(D.a)({},e.model,{nodeDataArray:t})})}).case(j,function(e,t){var a=e.model.nodeDataArray.findIndex(function(e){return e.key===t.key});return Object(D.a)({},e,{model:Object(D.a)({},e.model,{nodeDataArray:[].concat(Object(w.a)(e.model.nodeDataArray.slice(0,a)),[Object(D.a)({},e.model.nodeDataArray[a],{label:t.text})],Object(w.a)(e.model.nodeDataArray.slice(a+1)))})})}).case(z,function(e,t){var a=e.selectedNodeKeys.map(function(e){return{from:e,to:t}});return Object(D.a)({},e,{model:Object(D.a)({},e.model,{nodeDataArray:[].concat(Object(w.a)(e.model.nodeDataArray),[{key:t,label:t,color:R()}]),linkDataArray:a.length>0?Object(w.a)(e.model.linkDataArray).concat(a):Object(w.a)(e.model.linkDataArray)})})}).case(P,function(e,t){var a=e.model.nodeDataArray.findIndex(function(e){return e.key===t});return-1===a?e:Object(D.a)({},e,{model:Object(D.a)({},e.model,{nodeDataArray:[].concat(Object(w.a)(e.model.nodeDataArray.slice(0,a)),Object(w.a)(e.model.nodeDataArray.slice(a+1)))})})}).case(L,function(e,t){var a=e.model.linkDataArray.findIndex(function(e){return e.from===t.from&&e.to===t.to});return-1===a?e:Object(D.a)({},e,{model:Object(D.a)({},e.model,{linkDataArray:[].concat(Object(w.a)(e.model.linkDataArray.slice(0,a)),Object(w.a)(e.model.linkDataArray.slice(a+1)))})})}).case(T,function(e,t){return Object(D.a)({},e,{selectedNodeKeys:[].concat(Object(w.a)(e.selectedNodeKeys),[t])})}).case(N,function(e,t){var a=e.selectedNodeKeys.findIndex(function(e){return e===t});return-1===a?e:Object(D.a)({},e,{selectedNodeKeys:[].concat(Object(w.a)(e.selectedNodeKeys.slice(0,a)),Object(w.a)(e.selectedNodeKeys.slice(a+1)))})}).build(),W=Object({NODE_ENV:"production",PUBLIC_URL:"/react-gojs-example"}).REACT_APP_GOJS_KEY;W&&(u.a.licenseKey=W),r.a.render(n.a.createElement(S.a,{store:(y=B,Object(b.c)(y,b.a.apply(void 0,[])))},n.a.createElement(h,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/react-gojs-example",window.location.toString()).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/react-gojs-example","/service-worker.js");f?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):k(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):k(e)})}}()}},[[22,1,2]]]);
//# sourceMappingURL=main.294ec034.chunk.js.map